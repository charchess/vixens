# terraform/environments/dev/vixens-dev-onyx.yaml
# vixens-onyx.yaml
machine:
  type: controlplane
  certSANs:
    - 192.168.111.164
    - 192.168.208.164
    - 192.168.111.160
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.30.0
    clusterDNS:
      - 10.96.0.10
    nodeIP:
      validSubnets:
        - 192.168.111.0/24
        - 192.168.208.0/24
  network:
    hostname: onyx
    interfaces:
      - interface: enx00155d00cb11
        vlans:
          - vlanId: 200
            dhcp: false
            addresses: ["192.168.208.164/24"]
            routes:
              - network: 0.0.0.0/0
                gateway: 192.168.208.1
          - vlanId: 111
            dhcp: false
            addresses: ["192.168.111.164/24"]
            vip:
              ip: 192.168.111.160
    nameservers:
      - 192.168.208.1
      - 8.8.8.8
  install:
    disk: /dev/sda
