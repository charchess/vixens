# Component: PodDisruptionBudget - 0 (Zero Disruption Budget)
#
# This component sets minAvailable: 0 on PodDisruptionBudget resources.
# Use for:
#   - Test applications
#   - Non-critical background jobs
#   - Apps where all pods can be disrupted (acceptable downtime)
#
# Usage:
#   components:
#     - ../../../../_shared/components/poddisruptionbudget/0
#
# Example result:
#   spec:
#     minAvailable: 0
#     selector:
#       matchLabels:
#         app: <your-app>
#
# Note: This allows the Kubernetes scheduler to evict all pods during
# node maintenance or resource pressure.

apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component

patches:
  - target:
      kind: PodDisruptionBudget
      name: ".*"
    patch: |-
      apiVersion: policy/v1
      kind: PodDisruptionBudget
      metadata:
        name: any
      spec:
        minAvailable: 0
