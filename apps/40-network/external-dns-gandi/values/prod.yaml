# ExternalDNS Gandi Configuration (Public)
provider: gandi

image:
  registry: registry.k8s.io
  repository: external-dns/external-dns
  tag: v0.14.2

extraEnvVars:
  - name: GANDI_API_KEY
    valueFrom:
      secretKeyRef:
        name: external-dns-gandi-secret
        key: GANDI_API_KEY

# Arguments
extraArgs:
  gandi-api-key: $(GANDI_API_KEY)
  annotation-filter: external-dns.alpha.kubernetes.io/public=true

tolerations:
  - key: node-role.kubernetes.io/control-plane
    operator: Exists
    effect: NoSchedule

livenessProbe:
  enabled: false
readinessProbe:
  enabled: false

# Ownership
txtOwnerId: prod-gandi-public

# Scope
policy: sync
sources:
  - ingress
