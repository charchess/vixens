---
apiVersion: v1
kind: ConfigMap
metadata:
  name: frigate-config
  namespace: media
data:
  config.yml: |
    auth:
      enabled: false

    mqtt:
      host: mosquitto.mosquitto.svc.cluster.local
      port: 1883
      # user: {FRIGATE_MQTT_USER}
      # password: {FRIGATE_MQTT_PASSWORD}

    detectors:
      cpu1:
        type: cpu

    cameras:
      # Placeholder camera - User should update this with real RTSP URLs
      doorbell:
        ffmpeg:
          inputs:
            - path: rtsp://admin:password@192.168.1.100:554/live # Update with real credentials
              roles:
                - detect
                - record
        objects:
          track:
            - person
        record:
          enabled: True
          retain:
            days: 7
        snapshots:
          enabled: True
