# apps/00-infra/kubernetes-dashboard/values/common.yaml
# Official Chart: https://github.com/kubernetes/dashboard

# Kong integration settings (Default in v7.x)
kong:
  enabled: true # Dashboard v7.x depends on it

# We handle ingress via our standard traefik Ingress resource in overlays
api:
  ingress:
    enabled: false

# Metrics scraper integration
metricsScraper:
  enabled: true

# Enable skip-login and insecure access
api:
  extraArgs:
    - --enable-skip-login
    - --enable-insecure-login
    - --token-ttl=43200
  tolerations:
    - key: "node-role.kubernetes.io/control-plane"
      operator: "Exists"
      effect: "NoSchedule"

# Add tolerations to other components
auth:
  tolerations:
    - key: "node-role.kubernetes.io/control-plane"
      operator: "Exists"
      effect: "NoSchedule"

web:
  tolerations:
    - key: "node-role.kubernetes.io/control-plane"
      operator: "Exists"
      effect: "NoSchedule"

kong:
  enabled: true
  tolerations:
    - key: "node-role.kubernetes.io/control-plane"
      operator: "Exists"
      effect: "NoSchedule"

metricsScraper:
  enabled: true
  tolerations:
    - key: "node-role.kubernetes.io/control-plane"
      operator: "Exists"
      effect: "NoSchedule"
