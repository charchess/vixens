---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ../../base
  - ingress.yaml

components:
  - ../../../../_shared/components/default
  - ../../../../_shared/components/priority/low

# Add sizing label to all resources AND pod templates
transformers:
  - |
    apiVersion: builtin
    kind: LabelTransformer
    metadata:
      name: add-sizing-label
    labels:
      vixens.io/sizing: small
    fieldSpecs:
      - path: metadata/labels
        create: true
      - path: spec/template/metadata/labels
        create: true
        kind: Deployment
